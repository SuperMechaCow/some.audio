function createEl(a){return document.createElement(a)}function style(a){return function(b){Object.keys(a).forEach(function(c){b.style[c]=a[c]})}}function createStyled(a){return function(b){var c=createEl(a);return style(b)(c),c}}function Player(a){function b(a){a.preventDefault(),a.target!=f.playButton&&f.isPlaying&&(x=a.pageX-f.el.offsetLeft,f.audio.currentTime=f.audio.duration*(100*x/f.el.offsetWidth)/100)}function c(a){a.preventDefault(),f.isPlaying?f.pause():f.play()}function d(){var a=(100*f.audio.currentTime/f.audio.duration).toFixed(3);f.fillEl.style.width=a+"%"}function e(){f.pause(),f.audio.currentTime=0,f.fillEl.style.width="0%"}this.audio=null,this._src=null,this._events=[],this.isPlaying=!1,this.pChar=">",this.sChar="||",this.el=createStyled("div")({width:"100%",height:"100%",border:"1px solid #000",cursor:"auto",position:"relative"}),this.fillEl=createStyled("div")({background:"#f1e3fc",height:"100%",width:"0%",pointerEvents:"none"}),this.el.appendChild(this.fillEl),this.playButton=createStyled("div")({cursor:"pointer",fontFamily:"monospace",color:"#f0450b",fontSize:"32px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",fontWeight:"bold"}),this.playButton.innerHTML=this.pChar,this.el.appendChild(this.playButton),this.init=function(){a.appendChild(this.el),this.el.addEventListener("click",b),this.playButton.addEventListener("click",c)},this.source=function(a,b){this._src=a,!1!==b&&(this.audio=new Audio(a),this.audio.addEventListener("timeupdate",d),this.audio.addEventListener("ended",e))},this.play=function(){!this.audio&&this._src&&(this.source(this._src),this.applyEvents()),this.isPlaying=!0,this.audio.play(),this.playButton.innerHTML=this.sChar,this.el.style.cursor="pointer"},this.pause=function(){this.isPlaying=!1,this.audio.pause(),this.playButton.innerHTML=this.pChar,this.el.style.cursor="auto"},this.applyEvents=function(){for(var a in this._events)this.audio.addEventListener(this._events[a].e,this._events[a].h);this._events=[]},this.on=function(a,b){this._events.push({e:a,h:b}),this.audio&&this.audio.addEventListener(a,b)};var f=this;return this.init(),this}